.PHONY: help install install-dev test lint format clean build templates

help:
	@echo "Available commands:"
	@echo "  make install      - Install package"
	@echo "  make install-dev  - Install with dev dependencies"
	@echo "  make templates    - Create Jinja2 templates"
	@echo "  make test         - Run tests"
	@echo "  make lint         - Run linters"
	@echo "  make format       - Format code"
	@echo "  make clean        - Clean build artifacts"
	@echo "  make build        - Build package"

install:
	@echo "ðŸ“¦ Installing fastclean..."
	pip install -e .
	@echo "âœ… Installation complete!"

install-dev:
	@echo "ðŸ“¦ Installing with dev dependencies..."
	pip install -e ".[dev]"
	pre-commit install
	@echo "âœ… Dev installation complete!"

templates:
	@echo "ðŸŽ¨ Creating templates..."
	python build_templates.py
	@echo "âœ… Templates created!"

test:
	@echo "ðŸ§ª Running tests..."
	pytest -v --cov=src --cov-report=html

lint:
	@echo "ðŸ” Linting code..."
	flake8 src tests
	mypy src

format:
	@echo "âœ¨ Formatting code..."
	black src tests
	isort src tests

clean:
	@echo "ðŸ§¹ Cleaning up..."
	rm -rf build/ dist/ *.egg-info .pytest_cache/ .mypy_cache/ htmlcov/
	find . -type d -name __pycache__ -exec rm -rf {} + 2>/dev/null || true
	@echo "âœ… Cleanup complete!"

build:
	@echo "ðŸ“¦ Building package..."
	python -m build
	@echo "âœ… Build complete!"
