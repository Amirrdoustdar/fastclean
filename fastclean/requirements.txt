fastapi>=0.104.1
uvicorn[standard]>=0.24.0
pydantic>=2.5.0
pydantic-settings>=2.1.0
sqlalchemy[asyncio]>=2.0.23
aiosqlite>=0.19.0
jinja2>=3.1.2
REQ
print_success "Created requirements.txt"

print_step 8 15 "Creating .env"
cat > .env << 'ENV'
APP_NAME=FastAPI Clean Architecture
DEBUG=True
DATABASE_URL=sqlite+aiosqlite:///./app.db
ENV
print_success "Created .env"

print_step 9 15 "Creating .gitignore"
cat > .gitignore << 'GIT'
__pycache__/
*.py[cod]
venv/
.env
*.db
.pytest_cache/
.idea/
.vscode/
GIT
print_success "Created .gitignore"

print_step 10 15 "Creating Makefile"
cat > Makefile << 'MAKE'
.PHONY: install run test clean

install:
	pip install -r requirements.txt

run:
	uvicorn src.main:app --reload

test:
	pytest -v

clean:
	find . -type d -name __pycache__ -exec rm -rf {} + 2>/dev/null || true
	rm -f *.db
MAKE
print_success "Created Makefile"

print_step 11 15 "Creating setup.py"
cat > setup.py << SETUP
from setuptools import setup, find_packages
setup(
    name="$PROJECT_NAME",
    version="1.0.0",
    packages=find_packages(where="src"),
    package_dir={"": "src"},
    install_requires=[
        "fastapi>=0.104.1",
        "uvicorn[standard]>=0.24.0",
        "pydantic>=2.5.0",
        "sqlalchemy[asyncio]>=2.0.23",
    ],
)
SETUP
print_success "Created setup.py"

print_step 12 15 "Creating README.md"
cat > README.md << 'README'
# FastAPI Clean Architecture

ðŸš€ Production-ready FastAPI project with Clean Architecture

## Features
- âœ… Clean Architecture (4 layers)
- âœ… Async/Await
- âœ… SQLAlchemy 2.0
- âœ… Pydantic V2
- âœ… User CRUD Example

## Quick Start
```bash
# Install
python -m venv venv
source venv/bin/activate
pip install -r requirements.txt

# Run
uvicorn src.main:app --reload
```

## API Documentation
http://localhost:8000/docs

## Test API
```bash
curl -X POST "http://localhost:8000/api/v1/users/" \
  -H "Content-Type: application/json" \
  -d '{"email":"john@example.com","username":"john"}'
```

## Structure
- `src/domain/` - Business entities
- `src/application/` - Use cases
- `src/infrastructure/` - Database, config
- `src/interfaces/` - API endpoints
README
print_success "Created README.md"

print_step 13 15 "Creating virtual environment"
python3 -m venv venv
print_success "Created venv"

print_step 14 15 "Installing dependencies"
source venv/bin/activate 2>/dev/null || . venv/Scripts/activate
pip install -q --upgrade pip
pip install -q -r requirements.txt
print_success "Installed dependencies"

print_step 15 15 "Testing application"
timeout 2s uvicorn src.main:app --host 127.0.0.1 --port 8000 2>/dev/null || true
print_success "Application tested"